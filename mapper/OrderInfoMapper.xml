<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Configuration 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="top.zcflsc.dao.OrderInfoMapper">
	<resultMap id="BaseResultMap"
		type="top.zcflsc.entity.OrderInfo">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Dec 16 
			14:52:55 CST 2019. -->
		<constructor>
			<idArg column="id" javaType="java.math.BigDecimal"
				jdbcType="INTEGER" />
			<arg column="order_number" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="transaction_id" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="user_id" javaType="java.math.BigDecimal"
				jdbcType="INTEGER" />
			<arg column="consignee" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="phone" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="province" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="city" javaType="java.lang.String" jdbcType="VARCHAR" />
			<arg column="district" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="street" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="address" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="message" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="shipping_fee" javaType="java.math.BigDecimal"
				jdbcType="INTEGER" />
			<arg column="total_money" javaType="java.math.BigDecimal"
				jdbcType="DECIMAL" />
			<arg column="use_integral" javaType="java.math.BigDecimal"
				jdbcType="INTEGER" />
			<arg column="create_time" javaType="java.util.Date"
				jdbcType="TIMESTAMP" />
			<arg column="pay_time" javaType="java.util.Date"
				jdbcType="TIMESTAMP" />
			<arg column="ship_time" javaType="java.util.Date"
				jdbcType="TIMESTAMP" />
			<arg column="mailno" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="express_name" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="confirm_time" javaType="java.util.Date"
				jdbcType="TIMESTAMP" />
			<arg column="comment_time" javaType="java.util.Date"
				jdbcType="TIMESTAMP" />
			<arg column="cancel_time" javaType="java.util.Date"
				jdbcType="TIMESTAMP" />
			<arg column="bonus_id" javaType="java.math.BigDecimal"
				jdbcType="INTEGER" />
			<arg column="coupon_id" javaType="java.math.BigDecimal"
				jdbcType="INTEGER" />
			<arg column="order_status" javaType="java.math.BigDecimal"
				jdbcType="TINYINT" />
			<arg column="prepay_id" javaType="java.lang.String"
				jdbcType="VARCHAR" />
			<arg column="delete_time" javaType="java.util.Date"
				jdbcType="TIMESTAMP" />
			<arg column="is_delete" javaType="java.math.BigDecimal"
				jdbcType="TINYINT" />
		</constructor>
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Dec 16 
			14:52:55 CST 2019. -->
		id, order_number, transaction_id, user_id, consignee, phone, province,
		city, district,
		street, address, message, shipping_fee, total_money, use_integral,
		create_time, pay_time,
		ship_time, mailno, express_name, confirm_time, comment_time, cancel_time,
		bonus_id,
		coupon_id, order_status, prepay_id, delete_time, is_delete
	</sql>
	<select id="selectByPrimaryKey"
		parameterType="java.math.BigDecimal" resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Dec 16 
			14:52:55 CST 2019. -->
		select
		<include refid="Base_Column_List" />
		from order_info
		where id = #{id,jdbcType=INTEGER}
	</select>
	<delete id="deleteByPrimaryKey"
		parameterType="java.math.BigDecimal">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Dec 16 
			14:52:55 CST 2019. -->
		delete from order_info
		where id = #{id,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="top.zcflsc.entity.OrderInfo">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Dec 16 
			14:52:55 CST 2019. -->
		<selectKey keyProperty="id" order="BEFORE"
			resultType="java.math.BigDecimal">
			SELECT LAST_INSERT_ID()
		</selectKey>
		insert into order_info (id, order_number, transaction_id,
		user_id, consignee, phone,
		province, city, district,
		street, address, message,
		shipping_fee, total_money, use_integral,
		create_time, pay_time, ship_time,
		mailno, express_name, confirm_time,
		comment_time, cancel_time, bonus_id,
		coupon_id, order_status, prepay_id,
		delete_time, is_delete)
		values (#{id,jdbcType=INTEGER}, #{orderNumber,jdbcType=VARCHAR},
		#{transactionId,jdbcType=VARCHAR},
		#{userId,jdbcType=INTEGER}, #{consignee,jdbcType=VARCHAR}, #{phone,jdbcType=VARCHAR},
		#{province,jdbcType=VARCHAR}, #{city,jdbcType=VARCHAR},
		#{district,jdbcType=VARCHAR},
		#{street,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR}, #{message,jdbcType=VARCHAR},
		#{shippingFee,jdbcType=INTEGER}, #{totalMoney,jdbcType=DECIMAL},
		#{useIntegral,jdbcType=INTEGER},
		#{createTime,jdbcType=TIMESTAMP}, #{payTime,jdbcType=TIMESTAMP}, #{shipTime,jdbcType=TIMESTAMP},
		#{mailno,jdbcType=VARCHAR}, #{expressName,jdbcType=VARCHAR},
		#{confirmTime,jdbcType=TIMESTAMP},
		#{commentTime,jdbcType=TIMESTAMP}, #{cancelTime,jdbcType=TIMESTAMP}, #{bonusId,jdbcType=INTEGER},
		#{couponId,jdbcType=INTEGER}, #{orderStatus,jdbcType=TINYINT},
		#{prepayId,jdbcType=VARCHAR},
		#{deleteTime,jdbcType=TIMESTAMP}, #{isDelete,jdbcType=TINYINT})
	</insert>
	<update id="updateByPrimaryKeySelective"
		parameterType="top.zcflsc.entity.OrderInfo">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Dec 16 
			14:52:55 CST 2019. -->
		update order_info
		<set>
			<if test="orderNumber != null">
				order_number = #{orderNumber,jdbcType=VARCHAR},
			</if>
			<if test="transactionId != null">
				transaction_id = #{transactionId,jdbcType=VARCHAR},
			</if>
			<if test="userId != null">
				user_id = #{userId,jdbcType=INTEGER},
			</if>
			<if test="consignee != null">
				consignee = #{consignee,jdbcType=VARCHAR},
			</if>
			<if test="phone != null">
				phone = #{phone,jdbcType=VARCHAR},
			</if>
			<if test="province != null">
				province = #{province,jdbcType=VARCHAR},
			</if>
			<if test="city != null">
				city = #{city,jdbcType=VARCHAR},
			</if>
			<if test="district != null">
				district = #{district,jdbcType=VARCHAR},
			</if>
			<if test="street != null">
				street = #{street,jdbcType=VARCHAR},
			</if>
			<if test="address != null">
				address = #{address,jdbcType=VARCHAR},
			</if>
			<if test="message != null">
				message = #{message,jdbcType=VARCHAR},
			</if>
			<if test="shippingFee != null">
				shipping_fee = #{shippingFee,jdbcType=INTEGER},
			</if>
			<if test="totalMoney != null">
				total_money = #{totalMoney,jdbcType=DECIMAL},
			</if>
			<if test="useIntegral != null">
				use_integral = #{useIntegral,jdbcType=INTEGER},
			</if>
			<if test="createTime != null">
				create_time = #{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="payTime != null">
				pay_time = #{payTime,jdbcType=TIMESTAMP},
			</if>
			<if test="shipTime != null">
				ship_time = #{shipTime,jdbcType=TIMESTAMP},
			</if>
			<if test="mailno != null">
				mailno = #{mailno,jdbcType=VARCHAR},
			</if>
			<if test="expressName != null">
				express_name = #{expressName,jdbcType=VARCHAR},
			</if>
			<if test="confirmTime != null">
				confirm_time = #{confirmTime,jdbcType=TIMESTAMP},
			</if>
			<if test="commentTime != null">
				comment_time = #{commentTime,jdbcType=TIMESTAMP},
			</if>
			<if test="cancelTime != null">
				cancel_time = #{cancelTime,jdbcType=TIMESTAMP},
			</if>
			<if test="bonusId != null">
				bonus_id = #{bonusId,jdbcType=INTEGER},
			</if>
			<if test="couponId != null">
				coupon_id = #{couponId,jdbcType=INTEGER},
			</if>
			<if test="orderStatus != null">
				order_status = #{orderStatus,jdbcType=TINYINT},
			</if>
			<if test="prepayId != null">
				prepay_id = #{prepayId,jdbcType=VARCHAR},
			</if>
			<if test="deleteTime != null">
				delete_time = #{deleteTime,jdbcType=TIMESTAMP},
			</if>
			<if test="isDelete != null">
				is_delete = #{isDelete,jdbcType=TINYINT},
			</if>
		</set>
		where id = #{id,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey"
		parameterType="top.zcflsc.entity.OrderInfo">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Dec 16 
			14:52:55 CST 2019. -->
		update order_info
		set order_number = #{orderNumber,jdbcType=VARCHAR},
		transaction_id = #{transactionId,jdbcType=VARCHAR},
		user_id = #{userId,jdbcType=INTEGER},
		consignee = #{consignee,jdbcType=VARCHAR},
		phone = #{phone,jdbcType=VARCHAR},
		province = #{province,jdbcType=VARCHAR},
		city = #{city,jdbcType=VARCHAR},
		district = #{district,jdbcType=VARCHAR},
		street = #{street,jdbcType=VARCHAR},
		address = #{address,jdbcType=VARCHAR},
		message = #{message,jdbcType=VARCHAR},
		shipping_fee = #{shippingFee,jdbcType=INTEGER},
		total_money = #{totalMoney,jdbcType=DECIMAL},
		use_integral = #{useIntegral,jdbcType=INTEGER},
		create_time = #{createTime,jdbcType=TIMESTAMP},
		pay_time = #{payTime,jdbcType=TIMESTAMP},
		ship_time = #{shipTime,jdbcType=TIMESTAMP},
		mailno = #{mailno,jdbcType=VARCHAR},
		express_name = #{expressName,jdbcType=VARCHAR},
		confirm_time = #{confirmTime,jdbcType=TIMESTAMP},
		comment_time = #{commentTime,jdbcType=TIMESTAMP},
		cancel_time = #{cancelTime,jdbcType=TIMESTAMP},
		bonus_id = #{bonusId,jdbcType=INTEGER},
		coupon_id = #{couponId,jdbcType=INTEGER},
		order_status = #{orderStatus,jdbcType=TINYINT},
		prepay_id = #{prepayId,jdbcType=VARCHAR},
		delete_time = #{deleteTime,jdbcType=TIMESTAMP},
		is_delete = #{isDelete,jdbcType=TINYINT}
		where id = #{id,jdbcType=INTEGER}
	</update>
	<insert id="insertSelective" keyProperty="id"
		parameterType="top.zcflsc.entity.OrderInfo" useGeneratedKeys="true">
		insert into order_info
		<trim prefix="(" suffix=")" suffixOverrides=",">
			id,
			<if test="orderNumber != null">
				order_number,
			</if>
			<if test="userId != null">
				user_id,
			</if>
			<if test="consignee != null">
				consignee,
			</if>
			<if test="phone != null">
				phone,
			</if>
			<if test="province != null">
				province,
			</if>
			<if test="city != null">
				city,
			</if>
			<if test="district != null">
				district,
			</if>
			<if test="street != null">
				street,
			</if>
			<if test="address != null">
				address,
			</if>
			<if test="message != null">
				message,
			</if>
			<if test="shippingFee != null">
				shipping_fee,
			</if>
			<if test="totalMoney != null">
				total_money,
			</if>
			<if test="useIntegral != null">
				use_integral,
			</if>
			<if test="createTime != null">
				create_time,
			</if>
			<if test="payTime != null">
				pay_time,
			</if>
			<if test="shipTime != null">
				ship_time,
			</if>
			<if test="confirmTime != null">
				confirm_time,
			</if>
			<if test="commentTime != null">
				comment_time,
			</if>
			<if test="cancelTime != null">
				cancel_time,
			</if>
			<if test="bonusId != null">
				bonus_id,
			</if>
			<if test="couponId != null">
				coupon_id,
			</if>
			<if test="orderStatus != null">
				order_status,
			</if>
			<if test="deleteTime != null">
				delete_time,
			</if>
			<if test="isDelete != null">
				is_delete,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			#{id,jdbcType=INTEGER},
			<if test="orderNumber != null">
				#{orderNumber,jdbcType=VARCHAR},
			</if>
			<if test="userId != null">
				#{userId,jdbcType=INTEGER},
			</if>
			<if test="consignee != null">
				#{consignee,jdbcType=VARCHAR},
			</if>
			<if test="phone != null">
				#{phone,jdbcType=VARCHAR},
			</if>
			<if test="province != null">
				#{province,jdbcType=VARCHAR},
			</if>
			<if test="city != null">
				#{city,jdbcType=VARCHAR},
			</if>
			<if test="district != null">
				#{district,jdbcType=VARCHAR},
			</if>
			<if test="street != null">
				#{street,jdbcType=VARCHAR},
			</if>
			<if test="address != null">
				#{address,jdbcType=VARCHAR},
			</if>
			<if test="message != null">
				#{message,jdbcType=VARCHAR},
			</if>
			<if test="shippingFee != null">
				#{shippingFee,jdbcType=INTEGER},
			</if>
			<if test="totalMoney != null">
				#{totalMoney,jdbcType=DECIMAL},
			</if>
			<if test="useIntegral != null">
				#{useIntegral,jdbcType=INTEGER},
			</if>
			<if test="createTime != null">
				#{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="payTime != null">
				#{payTime,jdbcType=TIMESTAMP},
			</if>
			<if test="shipTime != null">
				#{shipTime,jdbcType=TIMESTAMP},
			</if>
			<if test="confirmTime != null">
				#{confirmTime,jdbcType=TIMESTAMP},
			</if>
			<if test="commentTime != null">
				#{commentTime,jdbcType=TIMESTAMP},
			</if>
			<if test="cancelTime != null">
				#{cancelTime,jdbcType=TIMESTAMP},
			</if>
			<if test="bonusId != null">
				#{bonusId,jdbcType=INTEGER},
			</if>
			<if test="couponId != null">
				#{couponId,jdbcType=INTEGER},
			</if>
			<if test="orderStatus != null">
				#{orderStatus,jdbcType=TINYINT},
			</if>
			<if test="deleteTime != null">
				#{deleteTime,jdbcType=TIMESTAMP},
			</if>
			<if test="isDelete != null">
				#{isDelete,jdbcType=TINYINT},
			</if>
		</trim>
	</insert>


	<select id="findAllOrder" parameterType="map"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from order_info
		where user_id = #{userId,jdbcType=INTEGER} and
		is_delete=0
		order by create_time desc limit
		${pageNo},${pageSize}
	</select>

	<select id="findByOrderStatus" parameterType="map"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from order_info
		where user_id = #{userId,jdbcType=INTEGER} and
		is_delete=0 and order_status = #{orderStatus,jdbcType=TINYINT}
		order by
		create_time desc limit
		${pageNo},${pageSize}
	</select>

	<select id="findCountOrdersInfo"
		parameterType="java.math.BigDecimal" resultType="Integer">
		select
		count(*)
		from
		order_info where user_id =
		${userId,jdbcType=INTEGER} and is_delete=0
	</select>
	<select id="findCountByOrderStatus" parameterType="map"
		resultType="Integer">
		select count(*) from order_info
		where user_id =
		#{userId,jdbcType=INTEGER} and
		is_delete=0 and order_status =
		#{orderStatus,jdbcType=TINYINT}
	</select>

	<select id="findInfoById" parameterType="map"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from order_info
		where user_id = #{userId,jdbcType=INTEGER} and
		order_number =
		#{orderNumber,jdbcType=VARCHAR} and
		is_delete=0
	</select>

	<select id="findByOrderNumber" parameterType="map"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from order_info
		where
		<if test="userId != null">
			user_id = #{userId,jdbcType=INTEGER} and
		</if>
		order_number = #{orderNumber,jdbcType=VARCHAR}
	</select>

</mapper>